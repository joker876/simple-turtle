!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("SimpleTurtle",[],t):"object"==typeof exports?exports.SimpleTurtle=t():e.SimpleTurtle=t()}(self,(()=>(()=>{"use strict";var e={912:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convertToColor=t.isHTMLColorName=t.Color=void 0;const r=i(444);class s{constructor(e){this.r=0,this.g=0,this.b=0,this.a=1,this.rgb=e}get rgb(){return[this.r,this.g,this.b]}set rgb([e,t,i]){this.r=e,this.g=t,this.b=i}toHex(e){let t=e?"":"#";return t+=this.r.toString(16).padStart(2,"0"),t+=this.g.toString(16).padStart(2,"0"),t+=this.b.toString(16).padStart(2,"0"),t}toRGB(){return`rgb(${this.r}, ${this.g}, ${this.b})`}toRGBA(){return`rgba(${this.r}, ${this.g}, ${this.b}, ${this.a})`}}t.Color=s,t.isHTMLColorName=function(e){return null!=(0,r.hex)(e)},t.convertToColor=function(e){var t,i,n,o,h,l;if(e instanceof s)return e;let a=[0,0,0];return Array.isArray(e)?(a=[...e],null!==(t=a[0])&&void 0!==t||(a[0]=0),null!==(i=a[1])&&void 0!==i||(a[1]=0),null!==(n=a[2])&&void 0!==n||(a[2]=0)):(e.replace(/ /g,""),e.toLowerCase(),(0,r.hex)(e)&&(e=(0,r.hex)(e)),"#"==e[0]&&(e=e.slice(1,7)),e.length>=6?(a[0]=parseInt(e.slice(0,2),16),a[1]=parseInt(e.slice(2,4),16),a[2]=parseInt(e.slice(4,6),16)):(a[0]=parseInt(null!==(o=e[0])&&void 0!==o?o:"0",16),a[1]=parseInt(null!==(h=e[1])&&void 0!==h?h:"0",16),a[2]=parseInt(null!==(l=e[2])&&void 0!==l?l:"0",16))),a[0]=a[0]<0?0:a[0]>255?255:a[0],a[1]=a[1]<0?0:a[1]>255?255:a[1],a[2]=a[2]<0?0:a[2]>255?255:a[2],new s(a)}},444:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.random=t.all=t.hex=t.names=void 0;const i={black:"#000000",silver:"#C0C0C0",gray:"#808080",grey:"#808080",white:"#FFFFFF",maroon:"#800000",red:"#FF0000",purple:"#800080",fuchsia:"#FF00FF",green:"#008000",lime:"#00FF00",olive:"#808000",yellow:"#FFFF00",navy:"#000080",blue:"#0000FF",teal:"#008080",aqua:"#00FFFF",darkblue:"#00008B",mediumblue:"#0000CD",darkgreen:"#006400",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",springgreen:"#00FF7F",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",rebeccapurple:"#663399",mediumaquamarine:"#66CDAA",dimgray:"#696969",dimgrey:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",slategrey:"#708090",lightslategray:"#778899",lightslategrey:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370DB",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",palevioletred:"#DB7093",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",lightyellow:"#FFFFE0",ivory:"#FFFFF0"};function r(e){return i[e]}t.names=function(){return Object.keys(i)},t.hex=r,t.all=function(){return i},t.random=function(){var e;const t=Object.keys(i);return null!==(e=r(t[Math.floor(Math.random()*t.length)]))&&void 0!==e?e:"#FFFFFF"}},742:(e,t)=>{function i(e){return e*(Math.PI/180)}function r(e,t){const r={x:0,y:0},s=Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2)),n=Math.atan2(e.x,e.y);return r.x=Math.sin(i(t)+n)*s,r.y=Math.cos(i(t)+n)*s,r}Object.defineProperty(t,"__esModule",{value:!0}),t.resizeShape=t.rotateShape=t.degToRad=t.BuiltInShapes=void 0,t.BuiltInShapes={Default:[{x:0,y:0},{x:3,y:-3},{x:0,y:6},{x:-3,y:-3}],Triangle:[{x:3,y:0},{x:0,y:6},{x:-3,y:0}]},t.degToRad=i,t.rotateShape=function(e,t){const i=[];for(let s=0;s<e.length;s++){const n=e[s];n&&(i[s]=r(n,t))}return i},t.resizeShape=function(e,t){const i=[];for(let r=0;r<e.length;r++){const s=e[r];if(s){const e={x:s.x,y:s.y};e.x*=t,e.y*=t,i[r]=e}}return i}},2:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.TurtleStepType=void 0,(i=t.TurtleStepType||(t.TurtleStepType={}))[i.Forward=0]="Forward",i[i.Left=1]="Left",i[i.Right=2]="Right",i[i.SetAngle=3]="SetAngle",i[i.Hide=4]="Hide",i[i.Show=5]="Show",i[i.PenUp=6]="PenUp",i[i.PenDown=7]="PenDown",i[i.Reset=8]="Reset",i[i.Clear=9]="Clear",i[i.Goto=10]="Goto",i[i.SetColor=11]="SetColor",i[i.SetWidth=12]="SetWidth",i[i.SetShape=13]="SetShape",i[i.SetSpeed=14]="SetSpeed",i[i.SetLineCap=15]="SetLineCap"},292:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Turtle=void 0;const r=i(187),s=i(912),n=i(742),o=i(2);function h(e){e.translate(e.canvas.width/2,e.canvas.height/2),e.transform(1,0,0,-1,0,0)}class l extends r.EventEmitter{constructor(e,t){super(),this.hidden=!1,this.wrap=!0,this.penDown=!0,this.stepByStep=!1,this.step=!1,this.steps=[],this.color=new s.Color([255,0,255]),this.width=1,this.turtleSizeModifier=1,this.position={x:0,y:0},this.angle=0,this.shape=n.BuiltInShapes.Default,this.ctx=e,this.lineCap="round",(null==t?void 0:t.hidden)&&(this.hidden=t.hidden),(null==t?void 0:t.disableWrapping)&&(this.wrap=!t.disableWrapping),(null==t?void 0:t.defaultColor)&&(this.color=(0,s.convertToColor)(t.defaultColor)),(null==t?void 0:t.width)&&(this.width=t.width),(null==t?void 0:t.startPostition)&&(this.position=t.startPostition),(null==t?void 0:t.startAngle)&&(this.angle=t.startAngle),(null==t?void 0:t.shape)&&(this.shape=t.shape),(null==t?void 0:t.lineCap)&&(this.lineCap=t.lineCap),(null==t?void 0:t.turtleSizeModifier)&&(this.turtleSizeModifier=t.turtleSizeModifier),(null==t?void 0:t.autoDraw)&&this.draw()}set lineCap(e){this.ctx.lineCap=e}get inStep(){return!this.stepByStep||this.step}doStep(e){return this.emit("step",e),e.type===o.TurtleStepType.Goto&&this.goto(...e.args),e.type===o.TurtleStepType.SetAngle&&this.setAngle(...e.args),e.type===o.TurtleStepType.Forward&&this.forward(...e.args),e.type===o.TurtleStepType.Left&&this.left(...e.args),e.type===o.TurtleStepType.Right&&this.right(...e.args),e.type===o.TurtleStepType.Hide&&this.hide(),e.type===o.TurtleStepType.Show&&this.show(),e.type===o.TurtleStepType.PenDown&&this.putPenDown(),e.type===o.TurtleStepType.PenUp&&this.putPenUp(),e.type===o.TurtleStepType.Reset&&this.reset(),e.type===o.TurtleStepType.Clear&&this.clear(),e.type===o.TurtleStepType.SetColor&&this.setColor(...e.args),e.type===o.TurtleStepType.SetWidth&&this.setWidth(...e.args),e.type===o.TurtleStepType.SetSpeed&&this.setSpeed(...e.args),e.type===o.TurtleStepType.SetShape&&this.setShape(...e.args),e.type===o.TurtleStepType.SetLineCap&&this.setLineCap(...e.args),this}nextStep(){const e=this.steps.shift();return e?(this.step=!0,this.doStep(e),this.step=!1):this.interval&&(clearInterval(this.interval),this.interval=void 0),this}clear(){var e;return this.inStep?(this.emit("clear"),(e=this.ctx).save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore(),this.draw()):this.steps.push({type:o.TurtleStepType.Clear}),this}hide(){return this.inStep?(this.emit("hide"),this.hidden=!0,this.restoreImageData(),this.draw()):this.steps.push({type:o.TurtleStepType.Hide}),this}show(){return this.inStep?(this.emit("show"),this.hidden=!1,this.draw()):this.steps.push({type:o.TurtleStepType.Show}),this}reset(){return this.inStep?(this.emit("reset"),this.hidden=!1,this.wrap=!0,this.penDown=!0,this.stepByStep=!1,this.setWidth(1),this.setColor([0,0,0]),this.setAngle(0),this.goto(0,0),this.clear()):this.steps.push({type:o.TurtleStepType.Reset}),this}setShape(e){return this.inStep?(this.emit("setShape",e),this.shape=e,this.draw()):this.steps.push({type:o.TurtleStepType.SetShape,args:[e]}),this}setSpeed(e){return this.inStep?(this.emit("setSpeed",e),this.stepByStep=e>0,this.speed=e,this.interval&&clearInterval(this.interval),this.interval=setInterval(this.nextStep.bind(this),e)):this.steps.push({type:o.TurtleStepType.SetSpeed,args:[e]}),this}putPenUp(){return this.inStep?(this.emit("putPenUp"),this.penDown=!1):this.steps.push({type:o.TurtleStepType.PenUp}),this}putPenDown(){return this.inStep?(this.emit("putPenDown"),this.penDown=!0):this.steps.push({type:o.TurtleStepType.PenDown}),this}invertPen(){return this.penDown=!this.penDown,this}setColor(e){return this.inStep?(this.emit("setColor",e),this.color=(0,s.convertToColor)(e),this.restoreImageData(),this.draw()):this.steps.push({type:o.TurtleStepType.SetColor,args:[e]}),this}setWidth(e){return this.inStep?(this.emit("setWidth",e),this.width=e,this.restoreImageData(),this.draw()):this.steps.push({type:o.TurtleStepType.SetWidth,args:[e]}),this}setLineCap(e){return this.inStep?(this.emit("setLineCap",e),this.lineCap=e):this.steps.push({type:o.TurtleStepType.SetLineCap,args:[e]}),this}setAngle(e){return this.inStep?(this.emit("setAngle",e),this.angle=e,this.restoreImageData(),this.draw()):this.steps.push({type:o.TurtleStepType.SetAngle,args:[e]}),this}left(e){return this.inStep?(this.emit("left",e),this.angle-=e,this.restoreImageData(),this.draw()):this.steps.push({type:o.TurtleStepType.Left,args:[e]}),this}right(e){return this.inStep?(this.emit("right",e),this.angle+=e,this.restoreImageData(),this.draw()):this.steps.push({type:o.TurtleStepType.Right,args:[e]}),this}goto(e,t){return this.inStep?(this.emit("goto",e,t),this.position.x=e,this.position.y=t,this.restoreImageData(),this.draw()):this.steps.push({type:o.TurtleStepType.Goto,args:[e,t]}),this}draw(){if(this.saveImageData(),this.hidden)return this;const e=Math.max(this.width/2,1)*this.turtleSizeModifier,t=(0,n.rotateShape)((0,n.resizeShape)(this.shape,e),this.angle),i=this.position.x,r=this.position.y;this.ctx.save(),h(this.ctx),this.ctx.beginPath(),this.ctx.moveTo(i,r);for(let e=0;e<t.length;e++){const s=t[e];s&&this.ctx.lineTo(i+s.x,r+s.y)}return this.ctx.closePath(),this.ctx.fillStyle=this.color.toHex(),this.ctx.fill(),this.ctx.lineWidth=Math.max(this.width/4,1),this.ctx.strokeStyle="black",this.ctx.stroke(),this.ctx.restore(),this}saveImageData(){return this.preDrawData=this.ctx.getImageData(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this}restoreImageData(){return this.preDrawData&&this.ctx.putImageData(this.preDrawData,0,0),this}forward(e){if(!this.inStep)return this.steps.push({type:o.TurtleStepType.Forward,args:[e]}),this;this.emit("forward",e),this.restoreImageData(),this.ctx.save(),h(this.ctx),this.ctx.lineWidth=this.width,this.ctx.strokeStyle=this.color.toRGBA(),this.penDown&&this.ctx.beginPath();const t=Math.cos((0,n.degToRad)(this.angle)),i=Math.sin((0,n.degToRad)(this.angle)),r=this.ctx.canvas.width/2,s=this.ctx.canvas.height/2;let l=this.position.x,a=this.position.y,p=l+i*e,u=a+t*e;for(this.ctx.moveTo(l,a);e>0;){const n=Math.abs((p>l?r-l:r+l)/i),o=Math.abs((u>a?s-a:s+a)/t);this.ctx.moveTo(l,a),this.wrap&&Math.abs(p)>r&&n<=o?(l=p>0?-r:r,a+=t*n,this.ctx.lineTo(p,u),p-=p>0?2*r:-2*r,e-=n):this.wrap&&Math.abs(u)>s&&n>=o?(a=u>0?-s:s,l+=i*o,this.ctx.lineTo(p,u),u-=u>0?2*s:-2*s,e-=o):(this.ctx.lineTo(p,u),e=0)}return this.penDown&&this.ctx.stroke(),this.ctx.restore(),this.saveImageData(),this.goto(p,u),this}drawGrid(e){e=Math.max(2,e),this.step=!0;const t=this.angle,i=this.color,r=this.width,s=this.position.x,n=this.position.y,o=this.ctx.canvas.width,h=this.ctx.canvas.height;this.setColor("grey"),this.setWidth(2);for(let t=1;t<e;t++)this.setAngle(90),this.goto(-o/2,h-h/e*t-h/2),this.forward(o),this.setAngle(180),this.goto(o-o/e*t-o/2,h/2),this.forward(h);return this.setAngle(t),this.setColor(i),this.setWidth(r),this.goto(s,n),this.ctx.restore(),this.step=!1,this}expose(e,t){var i,r,s,n,o,h,l,a,p,u,d,c,v,g,f,y;return e[null!==(i=null==t?void 0:t.forward)&&void 0!==i?i:"forward"]=this.forward.bind(this),e[null!==(r=null==t?void 0:t.left)&&void 0!==r?r:"left"]=this.left.bind(this),e[null!==(s=null==t?void 0:t.right)&&void 0!==s?s:"right"]=this.right.bind(this),e[null!==(n=null==t?void 0:t.setAngle)&&void 0!==n?n:"setAngle"]=this.setAngle.bind(this),e[null!==(o=null==t?void 0:t.hide)&&void 0!==o?o:"hide"]=this.hide.bind(this),e[null!==(h=null==t?void 0:t.show)&&void 0!==h?h:"show"]=this.show.bind(this),e[null!==(l=null==t?void 0:t.putPenUp)&&void 0!==l?l:"putPenUp"]=this.putPenUp.bind(this),e[null!==(a=null==t?void 0:t.putPenDown)&&void 0!==a?a:"putPenDown"]=this.putPenDown.bind(this),e[null!==(p=null==t?void 0:t.reset)&&void 0!==p?p:"reset"]=this.reset.bind(this),e[null!==(u=null==t?void 0:t.clear)&&void 0!==u?u:"clear"]=this.clear.bind(this),e[null!==(d=null==t?void 0:t.goto)&&void 0!==d?d:"goto"]=this.goto.bind(this),e[null!==(c=null==t?void 0:t.setColor)&&void 0!==c?c:"setColor"]=this.setColor.bind(this),e[null!==(v=null==t?void 0:t.setWidth)&&void 0!==v?v:"setWidth"]=this.setWidth.bind(this),e[null!==(g=null==t?void 0:t.setShape)&&void 0!==g?g:"setShape"]=this.setShape.bind(this),e[null!==(f=null==t?void 0:t.setSpeed)&&void 0!==f?f:"setSpeed"]=this.setSpeed.bind(this),e[null!==(y=null==t?void 0:t.setLineCap)&&void 0!==y?y:"setLineCap"]=this.setLineCap.bind(this),this}}t.Turtle=l},187:e=>{var t,i="object"==typeof Reflect?Reflect:null,r=i&&"function"==typeof i.apply?i.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)};t=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function n(){n.init.call(this)}e.exports=n,e.exports.once=function(e,t){return new Promise((function(i,r){function s(i){e.removeListener(t,n),r(i)}function n(){"function"==typeof e.removeListener&&e.removeListener("error",s),i([].slice.call(arguments))}g(e,t,n,{once:!0}),"error"!==t&&function(e,t,i){"function"==typeof e.on&&g(e,"error",t,{once:!0})}(e,s)}))},n.EventEmitter=n,n.prototype._events=void 0,n.prototype._eventsCount=0,n.prototype._maxListeners=void 0;var o=10;function h(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?n.defaultMaxListeners:e._maxListeners}function a(e,t,i,r){var s,n,o,a;if(h(i),void 0===(n=e._events)?(n=e._events=Object.create(null),e._eventsCount=0):(void 0!==n.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),n=e._events),o=n[t]),void 0===o)o=n[t]=i,++e._eventsCount;else if("function"==typeof o?o=n[t]=r?[i,o]:[o,i]:r?o.unshift(i):o.push(i),(s=l(e))>0&&o.length>s&&!o.warned){o.warned=!0;var p=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");p.name="MaxListenersExceededWarning",p.emitter=e,p.type=t,p.count=o.length,a=p,console&&console.warn&&console.warn(a)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(e,t,i){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},s=p.bind(r);return s.listener=i,r.wrapFn=s,s}function d(e,t,i){var r=e._events;if(void 0===r)return[];var s=r[t];return void 0===s?[]:"function"==typeof s?i?[s.listener||s]:[s]:i?function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(s):v(s,s.length)}function c(e){var t=this._events;if(void 0!==t){var i=t[e];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function v(e,t){for(var i=new Array(t),r=0;r<t;++r)i[r]=e[r];return i}function g(e,t,i,r){if("function"==typeof e.on)r.once?e.once(t,i):e.on(t,i);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function s(n){r.once&&e.removeEventListener(t,s),i(n)}))}}Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),n.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},n.prototype.getMaxListeners=function(){return l(this)},n.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var s="error"===e,n=this._events;if(void 0!==n)s=s&&void 0===n.error;else if(!s)return!1;if(s){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var h=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw h.context=o,h}var l=n[e];if(void 0===l)return!1;if("function"==typeof l)r(l,this,t);else{var a=l.length,p=v(l,a);for(i=0;i<a;++i)r(p[i],this,t)}return!0},n.prototype.addListener=function(e,t){return a(this,e,t,!1)},n.prototype.on=n.prototype.addListener,n.prototype.prependListener=function(e,t){return a(this,e,t,!0)},n.prototype.once=function(e,t){return h(t),this.on(e,u(this,e,t)),this},n.prototype.prependOnceListener=function(e,t){return h(t),this.prependListener(e,u(this,e,t)),this},n.prototype.removeListener=function(e,t){var i,r,s,n,o;if(h(t),void 0===(r=this._events))return this;if(void 0===(i=r[e]))return this;if(i===t||i.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){for(s=-1,n=i.length-1;n>=0;n--)if(i[n]===t||i[n].listener===t){o=i[n].listener,s=n;break}if(s<0)return this;0===s?i.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(i,s),1===i.length&&(r[e]=i[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},n.prototype.off=n.prototype.removeListener,n.prototype.removeAllListeners=function(e){var t,i,r;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[e]),this;if(0===arguments.length){var s,n=Object.keys(i);for(r=0;r<n.length;++r)"removeListener"!==(s=n[r])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=i[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},n.prototype.listeners=function(e){return d(this,e,!0)},n.prototype.rawListeners=function(e){return d(this,e,!1)},n.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):c.call(e,t)},n.prototype.listenerCount=c,n.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}}},t={};function i(r){var s=t[r];if(void 0!==s)return s.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,i),n.exports}var r={};return(()=>{var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.TurtleStepType=e.BuiltInShapes=e.Color=e.Turtle=void 0;var t=i(292);Object.defineProperty(e,"Turtle",{enumerable:!0,get:function(){return t.Turtle}});var s=i(912);Object.defineProperty(e,"Color",{enumerable:!0,get:function(){return s.Color}});var n=i(742);Object.defineProperty(e,"BuiltInShapes",{enumerable:!0,get:function(){return n.BuiltInShapes}});var o=i(2);Object.defineProperty(e,"TurtleStepType",{enumerable:!0,get:function(){return o.TurtleStepType}})})(),r})()));